import{j as t,b as l,u as p,B as c,c as x,i as j,s as f}from"./index-e6dd49ca.js";import{M as b}from"./Model-efadccbb.js";function o({label:a,id:s,...r}){return t.jsxs("p",{className:"control",children:[t.jsx("label",{htmlFor:s,children:a}),t.jsx("input",{id:s,name:s,required:!0,...r})]})}function k(){const a=l(e=>e.showCheckoutFlag),s=l(e=>e.total),r=l(e=>e.cart),n=p();function i(){n(x())}function d(e){e.preventDefault();const u=new FormData(e.target),h=Object.fromEntries(u.entries());fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:{items:{...r},customer:h}})}).then(m=>{m.ok&&(e.target.reset(),n(j()),i(),n(f()))})}return t.jsx(b,{open:a,children:t.jsxs("form",{onSubmit:d,children:[t.jsx("h2",{children:"Checkout"}),t.jsxs("p",{children:["Total Amount : ",s]}),t.jsx(o,{label:"Full Name",type:"text",id:"name"}),t.jsx(o,{label:"E-mail Address",type:"email",id:"email"}),t.jsx(o,{label:"Street",type:"text",id:"street"}),t.jsxs("div",{className:"control-row",children:[t.jsx(o,{label:"Postal Coad",type:"text",id:"postal-code"}),t.jsx(o,{label:"City",type:"text",id:"city"})]}),t.jsxs("p",{className:"modal-actions",children:[t.jsx(c,{textOnly:!0,type:"button ",onClick:i,children:"Close"}),t.jsx(c,{children:" Submit Order"})]})]})})}export{k as default};
